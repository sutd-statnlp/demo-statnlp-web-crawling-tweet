webpackJsonp([1],{"8ge7":function(t,e){},"9sIW":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container pt-4"},[e("router-view")],1)])},staticRenderFns:[]};var n=a("VU/8")({name:"App"},o,!1,function(t){a("8ge7")},null,null).exports,i=a("/ocq"),r={name:"HomePage",data:function(){return{payload:{keyword:"",language:"",location:"",userId:"",maxMinute:1},isHasData:!1,isLocated:!0}},mounted:function(){this.initMap(this.payload)},methods:{onSubmit:function(){var t=this;this.isLocated||(this.payload.location=""),this.$store.dispatch("tweet/crawlTweets",this.payload),this.interval=setInterval(function(){this.loadCsv()}.bind(this),800),setTimeout(function(){t.stopCrawling()},6e4*this.payload.maxMinute),this.table&&this.table.destroy()},stopCrawling:function(){clearInterval(this.interval),this.$store.dispatch("tweet/stopCrawling"),this.table=$("#table-tweet").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"],destroy:!0})},loadCsv:function(){this.$store.dispatch("tweet/loadCsv")},initMap:function(t){var e={center:new google.maps.LatLng(1.3413,103.9638),zoom:10},a=new google.maps.Map(document.getElementById("googleMap"),e);google.maps.event.addListener(a,"bounds_changed",function(){var e=a.getBounds().toUrlValue(2);$("#location").val(e),t.location=e}),google.maps.event.addListener(a,"click",function(t){a.panTo(t.latLng)})}},computed:{getTweetResponse:function(){return this.$store.getters["tweet/getTweetResponse"]},getTweets:function(){return this.$store.getters["tweet/getTweets"]}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"keyword"}},[t._v("Keyword")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.keyword,expression:"payload.keyword"}],staticClass:"form-control",attrs:{type:"text",id:"keyword",placeholder:"Keyword (ml)"},domProps:{value:t.payload.keyword},on:{input:function(e){e.target.composing||t.$set(t.payload,"keyword",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"language"}},[t._v("Language")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.language,expression:"payload.language"}],staticClass:"form-control",attrs:{type:"text",id:"language",placeholder:"Language (en)"},domProps:{value:t.payload.language},on:{input:function(e){e.target.composing||t.$set(t.payload,"language",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"userId"}},[t._v("Follow")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.userId,expression:"payload.userId"}],staticClass:"form-control",attrs:{type:"text",id:"userId",placeholder:"UserID"},domProps:{value:t.payload.userId},on:{input:function(e){e.target.composing||t.$set(t.payload,"userId",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"maxMinute"}},[t._v("Maximum minutes")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.maxMinute,expression:"payload.maxMinute"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1",max:"10",id:"maxMinute",placeholder:"Max minutes",required:""},domProps:{value:t.payload.maxMinute},on:{input:function(e){e.target.composing||t.$set(t.payload,"maxMinute",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"ml-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isLocated,expression:"isLocated"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"location"},domProps:{checked:Array.isArray(t.isLocated)?t._i(t.isLocated,null)>-1:t.isLocated},on:{change:function(e){var a=t.isLocated,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.isLocated=a.concat([null])):n>-1&&(t.isLocated=a.slice(0,n).concat(a.slice(n+1)))}else t.isLocated=o}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"location"}},[t._v("\n            Location\n            ")])]),t._v(" "),a("div",{attrs:{id:"googleMap"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payload.location,expression:"payload.location"}],staticClass:"form-control",attrs:{type:"text",hidden:"",id:"location",readonly:"",placeholder:"Location"},domProps:{value:t.payload.location},on:{input:function(e){e.target.composing||t.$set(t.payload,"location",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-md-12"},[a("p",[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Crawl Tweets")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.getTweetResponse.isStreaming,expression:"getTweetResponse.isStreaming"}],staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.stopCrawling()}}},[t._v("STOP")]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.getTweetResponse.link,expression:"getTweetResponse.link"}],staticClass:"btn btn-outline-primary",attrs:{href:t.getTweetResponse.link,target:"_blank"}},[t._v("Download Full Tweet CSV")])]),t._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.getTweetResponse.isStreaming,expression:"getTweetResponse.isStreaming"}],staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuemax":"100"}})])])])])]),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped display",attrs:{id:"table-tweet"}},[a("caption",[t._v("Tweets")]),t._v(" "),t._m(0),t._v(" "),a("tbody",t._l(t.getTweets,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s))]),t._v(" "),a("td",[t._v(t._s(e.ID))]),t._v(" "),a("td",[t._v(t._s(e.UserName))]),t._v(" "),a("td",[t._v(t._s(e.CreatedAt))]),t._v(" "),a("td",[t._v(t._s(e.Lang))])])}))])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("ID")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("UserName")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("CreatedAt")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Language")])])])}]};var c=a("VU/8")(r,l,!1,function(t){a("9sIW")},"data-v-892388c8",null).exports;s.a.use(i.a);var d=new i.a({routes:[{path:"/",name:"HomePage",component:c}]}),p=a("NYxO"),u=a("mtWM"),v=a.n(u),m=a("Zrlr"),g=a.n(m),w=a("wxAW"),h=a.n(w),f=new(function(){function t(){g()(this,t),this.httpSchema="http://",this.port=":8220",this.servers=[{name:"StatNLP 0",ip:"172.18.240.110",status:!1}],this.server=this.servers[0]}return h()(t,[{key:"getCrawlingTweetEndpoint",value:function(){return this.getEndpoint()+"/api/tweets/stream"}},{key:"getEndpoint",value:function(){return this.httpSchema+this.server.ip+this.port}},{key:"getDataEndpoint",value:function(){return this.getEndpoint()+"/data/"}},{key:"getStopCrawlingTweetEndpoint",value:function(){return this.getEndpoint()+"/api/tweets/stop"}}]),t}()),y=function(t,e){return{fileName:t.data.FileName,isStreaming:t.data.IsStreaming,link:e+t.data.FileName}},_=a("lxTf"),C=a.n(_),b={namespaced:!0,state:{tweetResponse:{fileName:"",isStreaming:!1,link:""},tweets:[]},getters:{getTweetResponse:function(t){return t.tweetResponse},getTweets:function(t){return t.tweets}},mutations:{crawlTweets:function(t,e){var a=f.getCrawlingTweetEndpoint(),s=new FormData;s.append("keyword",e.keyword),s.append("location",e.location),s.append("userId",e.userId),s.append("language",e.language),s.append("maxMinute",e.maxMinute),v.a.post(a,s).then(function(e){t.tweetResponse=y(e,f.getDataEndpoint())}).catch(function(t){console.log(t)})},stopCrawling:function(t){var e=f.getStopCrawlingTweetEndpoint(),a=new FormData;a.append("fileName",t.tweetResponse.fileName),v.a.post(e,a).then(function(e){t.tweetResponse=y(e,f.getDataEndpoint())}).catch(function(t){console.log(t)})},loadCsv:function(t){var e=f.getDataEndpoint()+t.tweetResponse.fileName;C.a.parse(e,{header:!0,dynamicTyping:!0,download:!0,complete:function(e,a){e.data.pop(),t.tweets=e.data}})}},actions:{crawlTweets:function(t,e){t.commit("crawlTweets",e)},stopCrawling:function(t){t.commit("stopCrawling")},loadCsv:function(t){t.commit("loadCsv")}}};s.a.use(p.a);var x=new p.a.Store({modules:{tweet:b},state:{},getters:{},mutations:{},actions:{}});s.a.config.productionTip=!1,new s.a({el:"#app",store:x,router:d,components:{App:n},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.f8d90e15b95d12f2965e.js.map